group 'com.waldo'
version '1.0'

buildscript {
  ext.kotlin_version = '1.0.5'

  repositories {
    mavenCentral()
  }
  dependencies {
    classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version")
  }
}

apply plugin: "kotlin"

jar {
  baseName = "assignment"
  manifest {
    attributes 'Main-Class': 'com.waldo.assignment.ApplicationKt'
  }
  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}

repositories {
  mavenCentral()
}

dependencies {
  compile("org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version")
  compile('com.drewnoakes:metadata-extractor:2.9.1')
  compile('de.flapdoodle.embed:de.flapdoodle.embed.mongo:1.50.5')
  compile('org.litote.kmongo:kmongo:3.3.5')
  compile('org.slf4j:slf4j-api')
  compile('ch.qos.logback:logback-classic:1.1.7')
  compile('ch.qos.logback:logback-core:1.1.7')
}
